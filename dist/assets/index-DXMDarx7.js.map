{"version":3,"file":"index-DXMDarx7.js","sources":["../../src/js/renderSections.js","../../src/js/copy.js","../../src/js/theme.js","../../src/js/accordion.js","../../src/js/main.js"],"sourcesContent":["import sectionsData from '../data/commands.json';\r\n\r\n/**\r\n * G√©n√®re dynamiquement toutes les sections dans <main>\r\n * en se basant sur le JSON.\r\n */\r\nexport function renderSections() {\r\n  const main = document.querySelector('main');\r\n  if (!main) return;\r\n\r\n  // On nettoie le contenu existant de <main> (au cas o√π)\r\n  main.innerHTML = '';\r\n\r\n  sectionsData.forEach((section) => {\r\n    const sectionEl = document.createElement('section');\r\n    sectionEl.className = 'section';\r\n    sectionEl.setAttribute('aria-labelledby', `section-${section.id}`);\r\n\r\n    // ----- Header ----- //\r\n    const header = document.createElement('div');\r\n    header.className = 'section__header';\r\n\r\n    const icon = document.createElement('i');\r\n    icon.className = `${section.icon} section__icon`;\r\n    icon.setAttribute('aria-hidden', 'true');\r\n    header.appendChild(icon);\r\n\r\n    const h2 = document.createElement('h2');\r\n    h2.className = 'section__title';\r\n    h2.id = `section-${section.id}`;\r\n    h2.textContent = section.title;\r\n    header.appendChild(h2);\r\n\r\n    const toggle = document.createElement('button');\r\n    toggle.className = 'section__toggle';\r\n    toggle.type = 'button';\r\n    toggle.setAttribute('aria-expanded', 'true');\r\n    toggle.setAttribute('aria-controls', `section-${section.id}-content`);\r\n\r\n    const sr = document.createElement('span');\r\n    sr.className = 'visually-hidden';\r\n    sr.textContent = `Afficher / masquer la section ${section.toggleLabel || section.title}`;\r\n    toggle.appendChild(sr);\r\n\r\n    const toggleIcon = document.createElement('i');\r\n    toggleIcon.className = 'fas fa-chevron-down section__toggle-icon';\r\n    toggleIcon.setAttribute('aria-hidden', 'true');\r\n    toggle.appendChild(toggleIcon);\r\n\r\n    header.appendChild(toggle);\r\n\r\n    // ----- Liste des commandes ----- //\r\n    const commandsWrapper = document.createElement('div');\r\n    commandsWrapper.className = 'commands';\r\n    commandsWrapper.id = `section-${section.id}-content`;\r\n\r\n    section.commands.forEach((cmd) => {\r\n      const article = document.createElement('article');\r\n      article.className = 'command';\r\n\r\n      const info = document.createElement('div');\r\n      info.className = 'command__info';\r\n\r\n      const p = document.createElement('p');\r\n      p.className = 'command__description';\r\n      p.textContent = cmd.description;\r\n      info.appendChild(p);\r\n\r\n      const codeEl = document.createElement('code');\r\n      codeEl.className = 'command__code';\r\n      codeEl.textContent = cmd.code;\r\n      info.appendChild(codeEl);\r\n\r\n      article.appendChild(info);\r\n\r\n      const btn = document.createElement('button');\r\n      btn.className = 'command__btn';\r\n      btn.type = 'button';\r\n      btn.dataset.command = cmd.code;\r\n      btn.setAttribute('aria-label', 'Copier la commande Git.');\r\n\r\n      const btnIcon = document.createElement('i');\r\n      btnIcon.className = 'fas fa-clipboard';\r\n      btnIcon.setAttribute('aria-hidden', 'true');\r\n\r\n      const span = document.createElement('span');\r\n      span.textContent = 'Copier';\r\n\r\n      btn.appendChild(btnIcon);\r\n      btn.appendChild(span);\r\n\r\n      article.appendChild(btn);\r\n      commandsWrapper.appendChild(article);\r\n    });\r\n\r\n    sectionEl.appendChild(header);\r\n    sectionEl.appendChild(commandsWrapper);\r\n    main.appendChild(sectionEl);\r\n  });\r\n}\r\n","export function setupCopyButtons() {\r\n    const buttons = document.querySelectorAll('.command__btn');\r\n  \r\n    buttons.forEach((btn) => {\r\n      btn.addEventListener('click', async () => {\r\n        const command = btn.dataset.command;\r\n        if (!command) return;\r\n  \r\n        try {\r\n          await navigator.clipboard.writeText(command);\r\n  \r\n          const label = btn.querySelector('span');\r\n          const originalText = label?.textContent ?? 'Copier';\r\n  \r\n          const commandCard = btn.closest('.command');\r\n  \r\n          btn.classList.add('command__btn--copied');\r\n          commandCard?.classList.add('command--copied');\r\n          btn.setAttribute('aria-label', 'La commande a √©t√© copi√©e.');\r\n  \r\n          if (label) label.textContent = 'Copi√© !';\r\n  \r\n          setTimeout(() => {\r\n            btn.classList.remove('command__btn--copied');\r\n            commandCard?.classList.remove('command--copied');\r\n            btn.setAttribute('aria-label', 'Copier la commande Git.');\r\n  \r\n            if (label) label.textContent = originalText;\r\n          }, 1500);\r\n        } catch (err) {\r\n          console.error('Erreur lors de la copie :', err);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  ","const THEME_KEY = \"git-memento-theme\";\r\nconst DARK = \"dark\";\r\nconst LIGHT = \"light\";\r\n\r\nfunction getStoredTheme() {\r\n  const stored = localStorage.getItem(THEME_KEY);\r\n  return stored === LIGHT || stored === DARK ? stored : null;\r\n}\r\n\r\nfunction getSystemTheme() {\r\n  return window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches ? DARK : LIGHT;\r\n}\r\n\r\nfunction getPreferredTheme() {\r\n  return getStoredTheme() ?? getSystemTheme();\r\n}\r\n\r\nfunction ensureThemeColorMeta() {\r\n  let meta = document.querySelector('meta[name=\"theme-color\"]');\r\n  if (!meta) {\r\n    meta = document.createElement(\"meta\");\r\n    meta.name = \"theme-color\";\r\n    document.head.appendChild(meta);\r\n  }\r\n  return meta;\r\n}\r\n\r\nfunction applyTheme(theme) {\r\n  document.documentElement.setAttribute(\"data-theme\", theme);\r\n}\r\n\r\nfunction updateToggleIcon(toggle, theme) {\r\n  const icon = toggle.querySelector(\".theme-toggle__icon\");\r\n  if (icon) icon.textContent = theme === DARK ? \"‚òÄÔ∏è\" : \"üåô\";\r\n}\r\n\r\nfunction updateA11yState(toggle, theme) {\r\n  // aria-pressed = \"true\" quand le mode sombre est actif (toggle on/off)\r\n  toggle.setAttribute(\"aria-pressed\", String(theme === DARK));\r\n}\r\n\r\nfunction updateThemeColor(theme) {\r\n  // Ajuste ces valeurs √† ta DA si besoin\r\n  const meta = ensureThemeColorMeta();\r\n  meta.setAttribute(\"content\", theme === DARK ? \"#0b0b0b\" : \"#ffffff\");\r\n}\r\n\r\nfunction setTheme(toggle, theme, { persist = false } = {}) {\r\n  applyTheme(theme);\r\n  updateToggleIcon(toggle, theme);\r\n  updateA11yState(toggle, theme);\r\n  updateThemeColor(theme);\r\n\r\n  if (persist) localStorage.setItem(THEME_KEY, theme);\r\n}\r\n\r\nexport function setupThemeToggle() {\r\n  const toggle = document.querySelector(\"[data-theme-toggle]\");\r\n  if (!toggle) return;\r\n\r\n  // Init\r\n  setTheme(toggle, getPreferredTheme());\r\n\r\n  // Click utilisateur => persist\r\n  toggle.addEventListener(\"click\", () => {\r\n    const current = document.documentElement.getAttribute(\"data-theme\") || LIGHT;\r\n    const next = current === LIGHT ? DARK : LIGHT;\r\n    setTheme(toggle, next, { persist: true });\r\n  });\r\n\r\n  // Suivre l‚ÄôOS uniquement si l‚Äôutilisateur n‚Äôa pas choisi explicitement\r\n  const media = window.matchMedia?.(\"(prefers-color-scheme: dark)\");\r\n  media?.addEventListener?.(\"change\", () => {\r\n    if (getStoredTheme() !== null) return; // l‚Äôutilisateur a ‚Äúforc√©‚Äù un th√®me\r\n    setTheme(toggle, getSystemTheme());\r\n  });\r\n}\r\n","export function setupAccordions() {\r\n    const sections = document.querySelectorAll('.section');\r\n  \r\n    sections.forEach((section) => {\r\n      const toggle = section.querySelector('.section__toggle');\r\n      const content = section.querySelector('.commands');\r\n  \r\n      if (!toggle || !content) return;\r\n  \r\n      // √âtat initial : ouvert, sauf si section--collapsed est d√©j√† dans le HTML\r\n      let isOpen = !section.classList.contains('section--collapsed');\r\n      toggle.setAttribute('aria-expanded', String(isOpen));\r\n  \r\n      toggle.addEventListener('click', () => {\r\n        isOpen = !isOpen;\r\n  \r\n        section.classList.toggle('section--collapsed', !isOpen);\r\n        toggle.setAttribute('aria-expanded', String(isOpen));\r\n      });\r\n    });\r\n  }\r\n  ","// src/js/main.js\r\nimport '../scss/style.scss';\r\n\r\nimport { renderSections } from './renderSections.js';\r\nimport { setupCopyButtons } from './copy.js';\r\nimport { setupThemeToggle } from './theme.js';\r\nimport { setupAccordions } from './accordion.js';\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  renderSections();\r\n  setupCopyButtons();\r\n  setupThemeToggle();\r\n  setupAccordions();\r\n});\r\n"],"names":["renderSections","main","sectionsData","section","sectionEl","header","icon","h2","toggle","sr","toggleIcon","commandsWrapper","cmd","article","info","p","codeEl","btn","btnIcon","span","setupCopyButtons","command","label","originalText","commandCard","err","THEME_KEY","DARK","LIGHT","getStoredTheme","stored","getSystemTheme","getPreferredTheme","ensureThemeColorMeta","meta","applyTheme","theme","updateToggleIcon","updateA11yState","updateThemeColor","setTheme","persist","setupThemeToggle","next","setupAccordions","content","isOpen"],"mappings":"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"}